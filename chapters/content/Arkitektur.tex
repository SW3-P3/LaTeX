\section{Arkitektur}
Dette afsnit beskriver systemets arkitektur.
Først gennemgås design mønsteret, MVC, der benyttes, derefter systemets klasser samt dets komponenter.

\input{chapters/content/mvc.tex}

\subsection{Program komponenter}\label{subsec:komp}
Der kan dannes forskellige komponenter i programmet ud fra de user stories, der blev opstillet i kravspecfikationen.
Disse user stories kan ses på \myref{figure:komp}.
Figuren viser, hvordan de forskellige user stories kan deles op i komponenter, og hvordan disse komponenter afhænger af og bruger hinanden, som beskrevet ud fra vores user stories.

\begin{figure}
	\vspace{-20pt}
	\begin{center}
		\includegraphics[scale=0.6]{images/Diagrams/Komponenter.png}
	\end{center}
	\vspace{-20pt}
	\caption{UML 2 Komponent diagram }\label{figure:komp}
	\vspace{-20pt}
\end{figure}

\textit{Indkøbslistekomponenten} står for at lave indkøbslister og tilføje varer og tilbud til disse.
Tilbudene skal importeres fra \textit{tilbudskomponenten}, for at lave koblingen imellem varerne og tilbud.
Det er afhængigt af \textit{brugerkomponenten}, da indkøbslisterne hører til en bruger for at danne personlige lister. 

\textit{Brugerkomponenten} er ansvarlig for alt, der har med en bruger at gøre. 
Det indebærer at registrere, hvem der er logget på, håndtere brugerens personlige indstillinger. 
Det er altså denne komponent, der sørger for den personlige oplevelse på hjemmesiden.

\textit{Opskriftskomponenten} er afhængig af brugerkomponenten, da det er brugerene i systemet, der tilføjer opskrifter og giver opskrifterne en vurdering.
Det er opskriftskomponenten, der står for vurderingen og skal vide, hvem den aktive bruger er.
Der er en adgang herfra til indkøbslisterne for at kunne tilføje ingredienser fra opskrifterne til indkøbslister.

\textit{Overvågningskomponenten} står for, at overvågningen af tilbud for en specifik vare, kan foregå.
Der dannes en afhængighed herfra og til indkøbslistekomponenten, da overvågningslisten gør brug af de metoder, som stilles til rådighed i dette komponent såsom at tilføje varer og finde tilbud.

Komponenterne på \myref{figure:komp}, har lav kobling med hinanden.
Dette skyldes at de forskelliges komponenters implementeringer let kan skiftes ud, uden at skulle ændre på de andre komponenters kode.


Der er desuden, for at teste programmet, udviklet et administrationspanel, i \class{AdminPanelController.cs}. 
Der er forskellige funktioner heri, som gør det muligt at ændre systemtiden i programmet, hente tilbud ind via JSON data gemt i en lokal fil, og meget mere.

\input{chapters/content/klassediagram.tex}
