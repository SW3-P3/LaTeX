\section{Analyse af anvendelsesområdet}\label{sec:anvendelses}
Dette afsnit tager udgangspunkt i metoder fra ''Objektorienteret Analyse og Design'' og benytter metoder herfra til at analyserer anvendelsområdet, dette omfatter brug af systemet, funktioner i systemet samt grænsefladen der er tilknyttet.\citep{OOA&D2001}
Afsnittet skal give et overblik over funktionaliteten af systemet, samt formidle hvordan brugeren interagerer med systemet.

\subsection{Brug}
Denne del af analysen har til formål at fastlægge interaktion mellem systemet og aktører.
Dette gøres ved at identificere brugsmønstre for aktørerernes aktioner i systemet.
\subsubsection*{Aktører}
I dette IT-system er der blevet identificeret to aktører.
Den første værende datakilden, eTilbudsaviss API, hvor tilbudende hentes fra og den anden værende de brugere, som benytter systemet.
For disse to aktører er der således udarbejdet en aktørtabel \myref{aktortabel}, der giver overblik over hvilke brugsmønstre der er, samt hvilke aktører der er relevante for disse.

\begin{table}[h]
\centering
    \colorlet{shadecolor}{gray!40}
    \rowcolors{1}{white}{shadecolor}
\begin{tabular}{rcc}
%\hline
				    & Bruger               		& eTilbudsavis  \\ \hline
Login               & \cmark                    & 		 		\\
Listehåndtering     & \cmark                    & 		 		\\
Søgning             & \cmark                    & 				\\
Indstil præferencer & \cmark                    & 				\\
Vurder opskrift     & \cmark                    &  	   			\\
Se anbefalinger     & \cmark                    & 				\\
Hent tilbud         &  						    & \cmark 		\\ \hline
\end{tabular}
\caption{Aktørtabel. Viser hvilke aktører er involveret i hvilke brugsmønstre}\label{aktortabel}
\end{table}

\subsubsection*{Bruger}

\textbf{Formål:} En person, som ønsker at bruge en eller flere af IT-systemets funktionaliteter, til at hjælpe med planlægning af mad og indkøb.

\textbf{Karakteristik:} Systemets brugere har meget varierende erfaring med IT-systemer, samt er bredt ud over mange forskellige aldersgrupper, majoriteten er dog mellem 18 - 30 år og har middel erfaring med IT.

\textbf{Eksempler:}Bruger A er en 21-årig universitetsstuderende, som for nyligt er flyttet hjemmefra. A har meget erfaring med IT, og bruger det dagligt til at navigere rundt på internettet.
A har let ved at navigere rundt i systemet og bruge dets funktionaliteter til at lave besparelser på det allerede lave budget, samt at undgå at få pasta med ketchup til aftensmad hver dag.

Bruger B er en 47-årig familiefar, der kun har smartphone, da dette er arbejdstelefonen givet af hans arbejdsgiver.
B benytter systemet til at handle ind på vej hjem fra arbejde, hvor indkøbslisten lavet af konen eller datteren bruges som guide i supermarkedet.
B vil således gerne kunne tilgå listen fra telefonen, så der ikke er behov for at køre hjem og hente den på papirsformat.

\subsubsection*{eTilbudsavis}

\textbf{Formål:} eTilbudsavis har til formål at gøre tilbudsdata tilgængelig for systemet, dette sker igennem deres application programming interface ("API").
Dette giver information om navnet på tilbudet, pris, periode, butik og meget andet. 
Dette vil blive beskrevet nærmere i \myref{api}.
Da dataene der hentes igennem API'et kan være af meget svingende kvalitet, filtreres det, så kun forståeligt tilbudsdata kommer igennem.

\textbf{Karakteristik:} eTilbudsavis er konsistent i metoden hvorpå data leveres, information der gives omkring dataene kan dog være meget varierende, hvilket resultere i en del ubrugeligt data, der som følge skal sorteres fra.
Da eTilbudsavis altid sender dataene på samme måde, kan ubrugeligt data sorteres fra uden større problemer. 

\textbf{Eksempel:} eTilbudsavis gør 2.000 tilbud tilgængelig, heri er nogle på et format der ikke klargøre hvad der er på tilbud, men blot giver en række mærkenavne som er på tilbud.
En sådan uforståelig række bliver filtreret ud såvel som andre uforståelige tilbud, og systemet ender tilbage med 1.337 brugbare tilbud, der kan vises til brugeren.

\subsubsection*{Brugsmønstre}
For en yderligere beskrivelse af de funktionaliteter i systemet, som vedrører en given aktør, modelleres en række brugsmønstre lavet på baggrund af hændelserne repræsenteret på \myref{handelser}, dette er de samme brugsmønstre som ses i aktørtabellen \myref{aktortabel}.
Hver enkelt af disse mønstre vil blive beskrevet igennem en brugsmønstrespecifikation.
Det er ikke alle mønstre som ses på denne liste, nogle af disse er sammentrækninger af flere andre mønstre, som alene virker simple og repetitive at beskrive.
Andre er udeladt da de ikke passer helt ind i en sammentrækning, men variationen fra det mønster og andre brugsmønstre ellers beskrevet, er så minimal, at mønstret er anset som værende ubetydeligt at beskrive.

\input{chapters/content/Brugsmonstre.tex}

\subsubsection*{Tilstanden af system}
\begin{figure}
	\centering
	\includegraphics[scale=0.6, angle=90]{images/Diagrams/Tilstandsdiagram.PNG}
	\caption{Tilstandsdiagram for systemet}
	\caption{Grønne bokse indikerer menupunkter, gule bokser indikere tilstande, den sorte centerlinje indikere menutilgang, pile indikere hændelsessekvenser, nærmere beskrivelese ses på \myref{tdiabeskriv}}\label{tilstandsdiagram}
\end{figure}

\input{chapters/content/Tilstandsdiagrambeskrivelse.tex}

\subsection{Funktioner}\label{subsec:funktioner}

I dette afsnit beskrives funktionerne der skal bruges for at kunne håndtere hændelserne fra problemområdet, og brugsmønstrene beskrevet ovenfor.
Der findes fire typer funktioner: Aflæsnings-, opdaterings-, beregnings-, og signaleringsfunktioner.\citep{OOA&D2001}
Først identificeres funktionerne, hvorefter der gives en kategori til funktionerne, og en bedømmelse af deres kompleksitet. Herefter gives en kortfattet beskrivelse af funktionen hvor dette er tilstrækkeligt, ellers gives en dybere beskrivelse.

På figur \ref{tabel:functionstable} ses en tabel over de forskellige funktioner samt deres kompleksitet og kategori.
Kompleksitet beskriver hvor kompleks en given funktion er, dette fastsættes på baggrund af om en given funktion har mere end en kategori, som også kan ses i tabellen, samt en vurdering af hvor kompleks funktionens arbejde er.

\begin{table}[H]
  \centering
    \colorlet{shadecolor}{gray!40}
    \rowcolors{1}{white}{shadecolor}
      \begin{tabular}{l|lllll}
      %\hline
      \textbf{Funktioner}			& {Kompleksitet}	& {Kategori}  	\\ \hline
      Log ind						& Medium			& Beregning, Opdatering		\\
      Log ud						& Simpel			& Opdatering	\\
      Registrer bruger				& Simpel			& Opdatering	\\
      Tilføje varer til lister		& Simpel       		& Opdatering	\\
      Fjerne varer fra lister		& Simpel       		& Opdatering	\\
      Oprette og slette lister		& Simpel       		& Opdatering	\\
      Dele lister					& Medium       		& Opdatering	\\
      Søgning på tilbud for varer   & Medium     		& Beregning		\\
      Sætte præferencer				& Simpel       		& Opdatering	\\
      Filtrere for præferencer		& Kompleks     		& Beregning		\\
      Give vurdering				& Simpel       		& Opdatering	\\
      Sende anbefaling				& Meget kompleks	& Aflæsning, signalering, beregning		\\
      Meddele tilbud på varer		& Medium      		& Signalering	\\
	    Se opskrifter					& Simpel       		& Aflæsning		\\
      Oprette opskrift      & Simpel          & Opdatering  \\
      Ændre opskrift        & Simpel          & Opdatering \\
      Kopier opskrift       & Simpel          & Opdatering \\
	    Se tilbud						& Simpel       		& Aflæsning		\\
      Hente tilbud					& Simpel	       	& Opdatering	\\
    \end{tabular}
  \caption{Funktionstabel. Viser de forskellige funktioner der skal bruges, samt deres kompleksitet og kategori.}\label{tabel:functionstable}
\end{table}

\textbf{Log ind:} Her bliver sendt brugerinformationer, som verificeres med brugerne registreret i systemet.
Hvis dette fuldføres, opdateres modellaget således brugeren er registreret som værende logget ind.

\textbf{Log ud:} Brugeren der før var logget ind, opdateres til at være logget ud.

\textbf{Registrer bruger:} En ny bruger sender sine brugerinformationer, og et nyt login oprettes i modellaget.

\textbf{Tilføje varer til lister:} Denne funktion skal tilføje et objekt af vare klassen til en indkøbsliste, eller en overvågningsliste.

\textbf{Fjerne varer fra lister:} Funktionen her skal så fjerne disse objekter igen.

\textbf{Oprette og slette lister:} Denne funktion bruges når en indkøbsliste skal oprettes således man kan tilføje varer til denne.

\textbf{Dele lister:} Skal opdatere modellaget således en anden bruger kan tilgå samme indkøbsliste som brugeren der deler sin liste.

\textbf{Søgning på tilbud for varer:} Søger efter tilbud som passer til varen der søges for.

\textbf{Sætte præferencer:} Funktionen skal sætte forskellige præferencer som vælges af brugeren, således brugerens oplevelse rettes efter brugerens præferencer.

\textbf{Filtrere for præferencer:} Funktionen skal findes i to udgaver. Der skal være filtrering i forhold til præferencer for både tilbud, og opskrifter.

\textbf{Give vurdering:} Funktionen skal modtage en vurdering fra brugeren og gemme denne i modellaget.

\textbf{Sende anbefaling:} Funktionen her er meget kompleks da der indgår mange forskellige typer handlinger.
Brugerne har vurderet forskellige opskrifter, og der beregnes en anbefaling ud fra disse.
Når anbefalingen er lavet skal den gives eller signaleres til brugeren.

\textbf{Meddele tilbud på varer:} Når en varer på overvågningslisten kommer på tilbud sender denne funktion et signal til brugeren derom.

\textbf{Se opskrifter:} Funktionen skal hente opskrifterne fra modellaget.

\textbf{Se tilbud:} Funktionen henter tilbudene fra modellaget.

\textbf{Hente tilbud:} Denne funktion henter tilbud, vha. API'et fra eTilbudsavis, disse skal derefter gemmes i modellaget.

Denne analyse af funktionerne hjælper med at danne et overblik over hvilke funktionaliteter der skal designes, samt hjælper det til at stille krav til det systemet.
I det følgende afsnit stilles der krav til systemet.
